___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Mediahawk Call-to-Action",
  "categories": ["CONVERSIONS"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "You can now set up Call-to-Actions easily via our handy template. All you is the index of the CTA you wish to trigger, and the optional value, or text you may want to send into Mediahawk.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "index",
    "displayName": "Call-to-Action index",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "help": "The dimension index as defined in your Call-to-Action setup in Mediahawk. e.g. dm1"
  },
  {
    "type": "TEXT",
    "name": "value",
    "displayName": "Call-to-Action value",
    "simpleValueType": true,
    "help": "You can send a value with your Call-to-Action into Mediahawk. Please be aware that this only gets recorded with SUM type CTAs."
  },
  {
    "type": "TEXT",
    "name": "text",
    "displayName": "Call-to-Action text",
    "simpleValueType": true,
    "help": "You can send a text string with your Call-to-Action into Mediahawk.This is optional."
  }
]


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "mhct.trigger"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const callInWindow = require('callInWindow');
// Set up arguments for CTA
var optionals = {
  value: data.value,
  text: data.text,
};
var trigger = callInWindow('mhct.trigger', data.index, optionals);
data.gtmOnSuccess();


___NOTES___

Created on 23/10/2019, 14:55:40
